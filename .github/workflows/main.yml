name: Verificar Preços

on:
  workflow_dispatch:
  schedule:
    - cron: "0 7,17 * * *"   # Executa às 07:00 e 17:00
    - cron: "30 12 * * *"    # Executa às 12:30

jobs:
  run-script:
    runs-on: ubuntu-latest

    steps:
      - name: Clonar repositório
        uses: actions/checkout@v3

      - name: Verificar diretório
        run: |
          echo "Diretório atual:"
          pwd
          echo "Conteúdo do diretório:"
          ls -la

      - name: Configurar Python
        uses: actions/setup-python@v4
        with:
          python-version: "3.x"

      - name: Instalar dependências
        run: |
          if [ -f requirements.txt ]; then 
            pip install -r requirements.txt
          else
            echo "Nenhuma dependência encontrada"
          fi

      - name: Executar script
        run: python principal.py  # Ajuste conforme necessário
